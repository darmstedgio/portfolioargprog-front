<div class="container">

  <div class="row">
    <div class="row my-5">
      <h2 class="text-center title-cards">

      </h2>
    </div>
    <div *ngIf="!tecnologies" >
      <p>Cargando...</p>
    </div>
    <div class="row" *ngIf="editable">
      <div class="offset-md-11 col-md-2">
        <button (click)="clearForm()" type="button" class="btn bg-success bg-gradient  text-white shadow" data-bs-toggle="modal" data-bs-target="#FormModal">
          <i class="fa-solid fa-plus"></i>
          AGREGAR
        </button>
      </div>
    </div>
    <div class="row gx-2">
      <div class="col-md-6" *ngFor="let tecnology of tecnologies; let i = index">
        <!-- Tecnology -->
        <div class="card mb-3 m-3 bg-dark border-0">
          <div class="row bg-dark style-card shadow-element">
            <!-- Button trigger modal -->
            <div class="row" *ngIf="editable">
              <div class="offset-10 col-md-2 text-end row position-relative mt-1">
                <div class="col-md-6 position-absolute float-start">
                  <button (click)="goEdit(i, false)" type="button" class="btn btn-sm bg-success bg-gradient py-0 px-1 m-1" data-bs-toggle="modal" data-bs-target="#FormModal">
                    <i class="fa-solid fa-pencil"></i>
                  </button>
                </div>
                <div class="col-md-6 position-absolute offset-md-5">
                  <button (click)="goDelete(tecnology.id)" type="button" class="btn btn-sm bg-danger bg-gradient py-0 px-1 m-1">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-4 text-center p-3 d-flex flex-column justify-content-center">
              <i class="text-bg-white fa-brands fa-4x fa-node pl-3"></i>
            </div>
            <div class="col-8" >
              <div class="card-body mt-2 mb-0" style="overflow: auto; height: 12rem;">
                <!-- Name -->
                <h5 class="card-title">
                  {{ tecnology.name }}
                </h5>
                <!-- Description -->
                <p class="card-text" style="tab-size: .1rem;">{{ tecnology.description }}</p>
                <!-- Level -->

                <div class="progress">
                  <div class="progress-bar" role="progressbar" [style.width.%]="(tecnology.level)" [attr.aria-valuenow]="tecnology.level" aria-valuemin="0" aria-valuemax="100">{{ tecnology.level }} / 100</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


  <!-- <i class="  text-bg-white fa-brands fa-6x fa-bootstrap"></i>
  <i class="  text-bg-white fa-brands fa-6x fa-angular"></i>
  <i class="  text-bg-white fa-brands fa-6x fa-html5"></i>
  <i class="  text-bg-white fa-brands fa-6x fa-css3-alt"></i>
  <i class="  text-bg-white fa-brands fa-6x fa-css3"></i> -->


<!-- Modal -->
<div class="modal fade" id="FormModal" tabindex="-1" aria-labelledby="FormModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content bg-dark">
      <div class="modal-header">
        <h1 *ngIf="!is_create" class="modal-title fs-5" id="FormModalLabel">Editar Tecnología</h1>
        <h1 *ngIf="is_create" class="modal-title fs-5" id="FormModalLabel">Crear Tecnología</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="" [formGroup]="form">
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Título</label>
            <input formControlName="name" class="form-control" id="exampleFormControlInput1" placeholder="">
          </div>
          <div class="mb-3">
            <label for="exampleFormControlTextarea1" class="form-label">Descripción</label>
            <textarea formControlName="description" class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder=""></textarea>
          </div>
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Nivel</label>
            <input formControlName="level" type="number" min="0" max="100" class="form-control" id="exampleFormControlInput1" placeholder="">
          </div>
        </form>
        <br>
        <!-- {{ form.value | json }} -->
      </div>
      <div class="modal-footer">
        <button *ngIf="!is_create" (click)="updateForm()" onclick="this.modal('hide')" type="button" class="btn btn-primary">Modificar</button>
        <button *ngIf="is_create" (click)="createForm()" type="button" class="btn btn-primary">Crear</button>
      </div>
    </div>
  </div>
</div>

